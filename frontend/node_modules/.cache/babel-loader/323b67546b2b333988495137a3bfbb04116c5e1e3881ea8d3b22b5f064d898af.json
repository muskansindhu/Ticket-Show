{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"UserDashPage\",\n  data() {\n    return {\n      theaters: [],\n      formData: {\n        theater_name: \"\",\n        location: \"\",\n        capacity: \"\"\n      },\n      userSession: JSON.parse(localStorage.getItem(\"userSession\")) || null\n    };\n  },\n  methods: {\n    async getTheater() {\n      const path = \"http://127.0.0.1:1234/vue/all/theater\";\n      try {\n        const response = await axios.get(path);\n        this.theaters = response.data.theaters;\n        this.loadShowsForTheaters();\n      } catch (error) {\n        console.error(\"Error fetching theaters:\", error);\n      }\n    },\n    async getShowsForTheater(theater) {\n      const path = `http://127.0.0.1:1234/vue/theater/${theater.roll}/show`;\n      try {\n        const response = await axios.get(path);\n        this.$set(theater, \"shows\", response.data.show);\n      } catch (error) {\n        console.error(`Error fetching shows for theater ${theater.roll}:`, error);\n      }\n    },\n    loadShowsForTheaters() {\n      for (const theater of this.theaters) {\n        this.getShowsForTheater(theater);\n      }\n    },\n    posterImg(showName) {\n      return `http://127.0.0.1:1234/static/img/Posters/${showName}.webp`;\n    },\n    availableSeats(theaterCapacity, showSeatsBooked) {\n      return theaterCapacity - showSeatsBooked;\n    }\n  },\n  async created() {\n    await this.getTheater();\n  }\n};","map":{"version":3,"names":["axios","name","data","theaters","formData","theater_name","location","capacity","userSession","JSON","parse","localStorage","getItem","methods","getTheater","path","response","get","loadShowsForTheaters","error","console","getShowsForTheater","theater","roll","$set","show","posterImg","showName","availableSeats","theaterCapacity","showSeatsBooked","created"],"sources":["src/components/UserDash.vue"],"sourcesContent":["<template>\n  <div class=\"user-dash-dark\">\n    <div class=\"welcome-section-dark\">\n      <div class=\"container\">\n        <div class=\"welcome-header-dark text-center\">\n          <h2 class=\"welcome-title-dark\">\n            <i class=\"fas fa-star me-3\"></i>\n            Welcome to TicketShow\n          </h2>\n          <p class=\"welcome-subtitle-dark\">\n            Your one-stop destination for booking amazing shows\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <div\n          class=\"col-md-10\"\n          v-for=\"(theater, index) in theaters\"\n          :key=\"index\"\n        >\n          <div\n            class=\"theater-card-dark mb-4 fade-in-up\"\n            :style=\"{ animationDelay: `${index * 0.1}s` }\"\n          >\n            <div class=\"theater-header-dark\">\n              <div class=\"theater-info-section-dark\">\n                <div class=\"theater-details-dark\">\n                  <h5 class=\"theater-title-dark\">\n                    <i class=\"fas fa-building me-2\"></i>\n                    {{ theater.theater_name }}\n                  </h5>\n                  <p class=\"theater-location-dark\">\n                    <i class=\"fas fa-map-marker-alt me-2\"></i>\n                    {{ theater.location }}\n                  </p>\n                  <div class=\"theater-capacity-dark\">\n                    <i class=\"fas fa-users me-2\"></i>\n                    <strong>Capacity:</strong> {{ theater.capacity }} seats\n                  </div>\n                </div>\n                <div class=\"theater-badge-dark\">\n                  <span class=\"badge bg-premium-dark\">\n                    <i class=\"fas fa-crown me-1\"></i>\n                    Premium Theater\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"theater-body-dark\">\n              <!-- Show cards -->\n              <div\n                class=\"shows-grid-dark\"\n                v-if=\"theater.shows && theater.shows.length > 0\"\n              >\n                <div\n                  class=\"show-card-dark\"\n                  v-for=\"(show, showIndex) in theater.shows\"\n                  :key=\"showIndex\"\n                >\n                  <div class=\"show-poster-section-dark\">\n                    <img\n                      :src=\"posterImg(show.show_name)\"\n                      alt=\"Show Poster\"\n                      class=\"show-poster-image-dark\"\n                    />\n                    <div class=\"show-overlay-dark\">\n                      <div class=\"show-rating-dark\">\n                        <i class=\"fas fa-star\"></i>\n                        <span>4.8</span>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"show-content-dark\">\n                    <h6 class=\"show-name-dark\">{{ show.show_name }}</h6>\n                    <div class=\"show-details-dark\">\n                      <div class=\"show-time-dark\">\n                        <i class=\"fas fa-clock me-2\"></i>\n                        <strong>Show Time:</strong> {{ show.time }}\n                      </div>\n                      <div class=\"show-availability-dark\">\n                        <i class=\"fas fa-chair me-2\"></i>\n                        <strong>Available Seats:</strong>\n                        <span class=\"seats-count-dark\">\n                          {{\n                            availableSeats(theater.capacity, show.seats_booked)\n                          }}\n                        </span>\n                      </div>\n                    </div>\n\n                    <div class=\"show-actions-dark\">\n                      <template\n                        v-if=\"\n                          availableSeats(theater.capacity, show.seats_booked) >\n                          0\n                        \"\n                      >\n                        <a\n                          :href=\"'/show/' + show.roll + '/booking'\"\n                          class=\"btn btn-book-dark\"\n                        >\n                          <i class=\"fas fa-ticket-alt me-2\"></i>\n                          Book Now\n                        </a>\n                        <div class=\"availability-status-dark available\">\n                          <span class=\"status-indicator-dark\"></span>\n                          Available\n                        </div>\n                      </template>\n                      <template v-else>\n                        <button class=\"btn btn-sold-out-dark\" disabled>\n                          <i class=\"fas fa-times-circle me-2\"></i>\n                          Sold Out\n                        </button>\n                        <div class=\"availability-status-dark sold-out\">\n                          <span class=\"status-indicator-dark\"></span>\n                          House Full\n                        </div>\n                      </template>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"no-shows-message-dark\" v-else>\n                <div class=\"no-shows-icon-dark\">\n                  <i class=\"fas fa-calendar-times\"></i>\n                </div>\n                <h6>No Shows Available</h6>\n                <p>\n                  This theater currently has no scheduled shows. Check back\n                  later for updates!\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"UserDashPage\",\n  data() {\n    return {\n      theaters: [],\n      formData: {\n        theater_name: \"\",\n        location: \"\",\n        capacity: \"\",\n      },\n      userSession: JSON.parse(localStorage.getItem(\"userSession\")) || null,\n    };\n  },\n  methods: {\n    async getTheater() {\n      const path = \"http://127.0.0.1:1234/vue/all/theater\";\n      try {\n        const response = await axios.get(path);\n        this.theaters = response.data.theaters;\n        this.loadShowsForTheaters();\n      } catch (error) {\n        console.error(\"Error fetching theaters:\", error);\n      }\n    },\n\n    async getShowsForTheater(theater) {\n      const path = `http://127.0.0.1:1234/vue/theater/${theater.roll}/show`;\n      try {\n        const response = await axios.get(path);\n        this.$set(theater, \"shows\", response.data.show);\n      } catch (error) {\n        console.error(\n          `Error fetching shows for theater ${theater.roll}:`,\n          error\n        );\n      }\n    },\n\n    loadShowsForTheaters() {\n      for (const theater of this.theaters) {\n        this.getShowsForTheater(theater);\n      }\n    },\n    posterImg(showName) {\n      return `http://127.0.0.1:1234/static/img/Posters/${showName}.webp`;\n    },\n    availableSeats(theaterCapacity, showSeatsBooked) {\n      return theaterCapacity - showSeatsBooked;\n    },\n  },\n  async created() {\n    await this.getTheater();\n  },\n};\n</script>\n\n<style scoped>\n.user-dash-dark {\n  min-height: calc(100vh - 200px);\n  background: var(--bg-primary);\n  color: var(--text-primary);\n  padding: 2rem 0;\n}\n\n.welcome-section-dark {\n  background: linear-gradient(\n    135deg,\n    var(--bg-secondary) 0%,\n    var(--bg-tertiary) 100%\n  );\n  padding: 3rem 0;\n  margin-bottom: 3rem;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.welcome-header-dark {\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.welcome-title-dark {\n  font-size: 2.5rem;\n  font-weight: 700;\n  color: var(--text-primary);\n  margin-bottom: 1rem;\n}\n\n.welcome-title-dark i {\n  background: linear-gradient(135deg, #ffd700, var(--primary-light));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.welcome-subtitle-dark {\n  font-size: 1.2rem;\n  color: var(--text-secondary);\n  margin: 0;\n}\n\n.theater-card-dark {\n  background: var(--bg-card);\n  border-radius: var(--border-radius-lg);\n  box-shadow: var(--shadow-card);\n  border: 1px solid var(--border-color);\n  overflow: hidden;\n  transition: all 0.3s ease;\n}\n\n.theater-card-dark:hover {\n  transform: translateY(-8px);\n  box-shadow: var(--shadow-hover);\n  border-color: rgba(139, 92, 246, 0.3);\n}\n\n.theater-header-dark {\n  background: linear-gradient(\n    135deg,\n    var(--primary-color) 0%,\n    var(--secondary-color) 100%\n  );\n  padding: 2rem;\n  color: white;\n}\n\n.theater-info-section-dark {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.theater-details-dark {\n  flex: 1;\n}\n\n.theater-title-dark {\n  font-size: 1.5rem;\n  font-weight: 700;\n  margin-bottom: 0.5rem;\n  color: white;\n  display: flex;\n  align-items: center;\n}\n\n.theater-location-dark {\n  font-size: 1rem;\n  margin-bottom: 0.5rem;\n  color: rgba(255, 255, 255, 0.9);\n  display: flex;\n  align-items: center;\n}\n\n.theater-capacity-dark {\n  font-size: 0.9rem;\n  color: rgba(255, 255, 255, 0.8);\n  display: flex;\n  align-items: center;\n}\n\n.theater-badge-dark {\n  flex-shrink: 0;\n}\n\n.bg-premium-dark {\n  background: rgba(255, 215, 0, 0.2);\n  color: #ffd700;\n  border: 1px solid rgba(255, 215, 0, 0.3);\n  padding: 0.5rem 1rem;\n  border-radius: 25px;\n  font-weight: 600;\n  font-size: 0.85rem;\n}\n\n.theater-body-dark {\n  padding: 2rem;\n  background: var(--bg-card);\n}\n\n.shows-grid-dark {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 1.5rem;\n}\n\n.show-card-dark {\n  background: var(--bg-card-hover);\n  border-radius: var(--border-radius);\n  overflow: hidden;\n  transition: all 0.3s ease;\n  border: 2px solid transparent;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n}\n\n.show-card-dark:hover {\n  transform: translateY(-5px);\n  border-color: var(--primary-color);\n  box-shadow: 0 8px 25px rgba(139, 92, 246, 0.2);\n}\n\n.show-poster-section-dark {\n  position: relative;\n  height: 250px;\n  overflow: hidden;\n}\n\n.show-poster-image-dark {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s ease;\n}\n\n.show-card-dark:hover .show-poster-image-dark {\n  transform: scale(1.05);\n}\n\n.show-overlay-dark {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 1rem;\n}\n\n.show-rating-dark {\n  background: rgba(0, 0, 0, 0.7);\n  color: #ffd700;\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.9rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n}\n\n.show-content-dark {\n  padding: 1.5rem;\n  background: var(--bg-card-hover);\n}\n\n.show-name-dark {\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--text-primary);\n  margin-bottom: 1rem;\n  text-align: center;\n}\n\n.show-details-dark {\n  margin-bottom: 1.5rem;\n}\n\n.show-time-dark,\n.show-availability-dark {\n  display: flex;\n  align-items: center;\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n  margin-bottom: 0.5rem;\n}\n\n.seats-count-dark {\n  color: var(--success-color);\n  font-weight: 600;\n}\n\n.show-actions-dark {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  align-items: center;\n}\n\n.btn-book-dark {\n  background: linear-gradient(\n    135deg,\n    var(--success-color),\n    var(--success-dark)\n  );\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: var(--border-radius);\n  font-weight: 600;\n  text-decoration: none;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  min-width: 140px;\n  justify-content: center;\n}\n\n.btn-book-dark:hover {\n  background: linear-gradient(\n    135deg,\n    var(--success-dark),\n    var(--success-color)\n  );\n  transform: translateY(-2px);\n  box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);\n  color: white;\n}\n\n.btn-sold-out-dark {\n  background: linear-gradient(135deg, var(--danger-color), var(--danger-dark));\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: var(--border-radius);\n  font-weight: 600;\n  cursor: not-allowed;\n  opacity: 0.8;\n  display: flex;\n  align-items: center;\n  min-width: 140px;\n  justify-content: center;\n}\n\n.availability-status-dark {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n\n.status-indicator-dark {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n}\n\n.availability-status-dark.available {\n  color: var(--success-color);\n}\n\n.availability-status-dark.available .status-indicator-dark {\n  background: var(--success-color);\n}\n\n.availability-status-dark.sold-out {\n  color: var(--danger-color);\n}\n\n.availability-status-dark.sold-out .status-indicator-dark {\n  background: var(--danger-color);\n}\n\n.no-shows-message-dark {\n  text-align: center;\n  padding: 4rem 2rem;\n  color: var(--text-muted);\n}\n\n.no-shows-icon-dark {\n  font-size: 4rem;\n  margin-bottom: 1.5rem;\n  opacity: 0.5;\n}\n\n.no-shows-message-dark h6 {\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-secondary);\n  margin-bottom: 1rem;\n}\n\n.no-shows-message-dark p {\n  font-size: 1rem;\n  color: var(--text-muted);\n  max-width: 400px;\n  margin: 0 auto;\n}\n\n/* Animation */\n.fade-in-up {\n  animation: fadeInUp 0.8s ease-out;\n  animation-fill-mode: both;\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .welcome-title-dark {\n    font-size: 2rem;\n  }\n\n  .welcome-subtitle-dark {\n    font-size: 1.1rem;\n  }\n\n  .theater-header-dark {\n    padding: 1.5rem;\n  }\n\n  .theater-info-section-dark {\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .theater-body-dark {\n    padding: 1.5rem;\n  }\n\n  .shows-grid-dark {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n\n  .show-poster-section-dark {\n    height: 200px;\n  }\n}\n\n@media (max-width: 480px) {\n  .user-dash-dark {\n    padding: 1rem 0;\n  }\n\n  .welcome-section-dark {\n    padding: 2rem 0;\n    margin-bottom: 2rem;\n  }\n\n  .welcome-title-dark {\n    font-size: 1.8rem;\n  }\n\n  .theater-card-dark {\n    margin: 0 1rem 2rem;\n  }\n\n  .theater-header-dark,\n  .theater-body-dark {\n    padding: 1rem;\n  }\n}\n\n/* Loading states */\n.show-card-dark.loading {\n  position: relative;\n  overflow: hidden;\n}\n\n.show-card-dark.loading::after {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(\n    90deg,\n    transparent,\n    rgba(139, 92, 246, 0.1),\n    transparent\n  );\n  animation: shimmer 1.5s infinite;\n}\n\n@keyframes shimmer {\n  0% {\n    left: -100%;\n  }\n  100% {\n    left: 100%;\n  }\n}\n\n/* Hover effects enhancement */\n.theater-card-dark::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  background: linear-gradient(\n    135deg,\n    var(--primary-color),\n    var(--accent-color)\n  );\n  transform: scaleX(0);\n  transition: transform 0.3s ease;\n}\n\n.theater-card-dark:hover::before {\n  transform: scaleX(1);\n}\n\n/* Accessibility improvements */\n.btn-book-dark:focus,\n.btn-sold-out-dark:focus {\n  outline: 2px solid var(--primary-color);\n  outline-offset: 2px;\n}\n\n.show-card-dark:focus-within {\n  border-color: var(--primary-color);\n  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);\n}\n</style>\n"],"mappings":"AAoJA,OAAAA,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;QACAC,YAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,WAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,WAAA;MACA,MAAAC,IAAA;MACA;QACA,MAAAC,QAAA,SAAAhB,KAAA,CAAAiB,GAAA,CAAAF,IAAA;QACA,KAAAZ,QAAA,GAAAa,QAAA,CAAAd,IAAA,CAAAC,QAAA;QACA,KAAAe,oBAAA;MACA,SAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,6BAAAA,KAAA;MACA;IACA;IAEA,MAAAE,mBAAAC,OAAA;MACA,MAAAP,IAAA,wCAAAO,OAAA,CAAAC,IAAA;MACA;QACA,MAAAP,QAAA,SAAAhB,KAAA,CAAAiB,GAAA,CAAAF,IAAA;QACA,KAAAS,IAAA,CAAAF,OAAA,WAAAN,QAAA,CAAAd,IAAA,CAAAuB,IAAA;MACA,SAAAN,KAAA;QACAC,OAAA,CAAAD,KAAA,CACA,oCAAAG,OAAA,CAAAC,IAAA,KACAJ,KACA;MACA;IACA;IAEAD,qBAAA;MACA,WAAAI,OAAA,SAAAnB,QAAA;QACA,KAAAkB,kBAAA,CAAAC,OAAA;MACA;IACA;IACAI,UAAAC,QAAA;MACA,mDAAAA,QAAA;IACA;IACAC,eAAAC,eAAA,EAAAC,eAAA;MACA,OAAAD,eAAA,GAAAC,eAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,WAAAjB,UAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}